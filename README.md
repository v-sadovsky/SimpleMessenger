# SimpleMessenger
Реализация простого мессенджера в рамках курса по микро-сервисной архитектуре.

![img.png](project_structure.png)

### API Gateway service 
Назначение: роутинг клиентских запросов к остальным сервисам бэкенда.

Для общения клиентов с этим сервисом выбран подход REST API:
* паттерн клиент-сервис вполне подходит для такой задачи
* не подразумевается пересылка больших объемов данных
* возможность кэшировать данные о пользователях
* простота реализации

### Auth service
Назначение: аутентикация и авторизация пользователей.

С одной стороны функционал данного сервиса должен триггериться Gateway сервисом при запросе ресурсов клиентом. <br>С другой стороны Auth сервису нужно получать данные о пользователях от Profile сервиса.<br>


* Profiles management - работает с профилями пользователей, данные о пользователях хранит в MySql
  * регистрация нового пользователя
  * редактирование профиля пользователя
  * поиск пользователя по никнейму
* Friends management - отвечает за работу с друзьями пользователя, данные хранит в MySql (может быть стоит рассмотреть графовую БД)
  * добавление пользователя в друзья
  * удаление пользователя из друзей
  * подтверждение/отклонение запроса в друзья
  * просмотр списка своих друзей (в том числе неподтвержденных)
* Messages manager - обеспечивает обработку сообщений пользователей, данные хранит в MySql
  * написать сообщение другу
  * получить сообщение из чата с пользователем

Протокол взаимодействия между клиентами и API Gateway, а также между шлюзом и микросервисами - преимущественно REST.

Сервис сообщений видимо будет подписан на события о входе пользователя в мессенджер. При получении события сервис должен отправить пользователю новые сообщения.
Аналогичным образом сервис управления друзьями при получении события о входе пользователя должен отправить ему новые запросы на дружбу.
Для этих целей видимо придется использовать какой-то брокер сообщений.

Аналитика данных в проекте не требуется, быстро читать большие объемы данных по полям не нужно. Для хранения данных о пользователях, сообщениях и друзьях возможностей MySql скорее всего будет достаточно (авки можно хранить в виде блоб-объектов).
Возможно для хранения дерева друзей стоит рассмотреть графоориентированную БД.